<!DOCTYPE html>
<html lang="zh-TW" prefix="og: http://ogp.me/ns#">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="UTF-8">
<meta name="author" property="og:article:author" content="gholk">
<meta name="copyright" content="GPL3">
<meta name="generator" content="emacs">
<!-- 以上一般不用改，以下才要改。 -->

<!-- 後設資料 -->
<meta name="date" property="og:article:public_time" content="2017-11-05">
<meta name="keywords" property="og:article:tag" content="marked,markdown,javascript">

<!-- 和網頁位置有關 -->
<link rel="icon" type="image/png" href="/ext/icon.png">
<meta property="og:image" content="/ext/icon.png">

<title>marked: escape flavor markdown</title>

<style>
  textarea {
    display: block;
    width: 100%;
    height: 10em;
  }
  #html-parent:empty {
    display: none;
  }
  #html-parent {
    border: solid 1px black;
    padding: 1em;
  }
</style>

</head>
<body>

<p>  this a fork version of <strong>marked</strong>,
  add some rule for my use,
  which i call <em>Escape Flavor Markdown</em>.</p>

<p>  just type in textarea and click convert,
  html would output to two below region.</p>


<textarea id="markdown-input"></textarea>
<button>convert</button>

<ht>

<textarea id="html-output"></textarea>
<div id="html-parent"></div>

<script src="./marked.min.js"></script>
<script>
  function getInput() {
    const area = document.querySelector('textarea#markdown-input')
    return area.value
  }
  function setOutput(rawHtml) {
    const text = document.querySelector('#html-output')
    const parentDiv = document.querySelector('#html-parent')

    text.value = rawHtml
    parentDiv.innerHTML = rawHtml
  }
  const convertButton = document.querySelector('button')
  convertButton.onclick = () => {
    const markedText = getInput()
    const markedHtml = marked(markedText)
    setOutput(markedHtml)
  }
</script>

</body>
</html>
